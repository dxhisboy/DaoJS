<html>
<head>
	<title>DaoJs Demos</title>
	<script src="dao.js"></script>
</head>
<body>
	<script>
		var db = openDatabase('mydb', '1.0', 'example', 5 * 1024 * 1024);
		DAO.setTable('example', ['rowid', 'rowdata'], 'rowid');
		function logCallback(rt, tx){
			console.log(rt);
		}
		function init(){
			db.transaction(function (tx){
				tx.executeSql("drop table if exists example");
				tx.executeSql("create table example(rowid int primary key, rowdata text)");
			});
		}
		function insert(json){
			db.transaction(function(tx){
				DAO.insertObjectToTable(JSON.parse(json), "example", tx, logCallback);
			});
		}
		function insertArray(json){
			db.transaction(function(tx){
				DAO.insertArrayToTable(JSON.parse(json), "example", tx, logCallback);
			});
		}
		function insertTidy(json){
			db.transaction(function(tx){
				DAO.insertTidyArrayToTable(JSON.parse(json), "example", tx, logCallback);
			});
		}

		function find(json){
			db.transaction(function(tx){
				DAO.find(JSON.parse(json), "example", tx, logCallback)
			});
		}
		function findPK(pk){
			db.transaction(function(tx){
				DAO.findPK(pk, "example", tx, logCallback);
			});
		}
		function edit(json){
			db.transaction(function(tx){
				DAO.editObjectInTable(JSON.parse(json), "example", tx, logCallback);
			});
		}
		function remove(json){
			db.transaction(function(tx){
				DAO.remove(JSON.parse(json), "example", tx, logCallback)
			});
		}
		function removePK(pk){
			db.transaction(function(tx){
				DAO.removePK(pk, "example", tx, logCallback);
			});
		}

	</script>
</body>
</html>
